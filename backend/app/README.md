# App 구조

## 데이터 흐름도

```
[사용자/앱]
    │
    ▼
┌─────────────────────────────────────────────────────────┐
│                    API Endpoints                        │
│  (file_upload → auto_upload → app_data → user → similar → chat)  │
└─────────────────────────────────────────────────────────┘
    │
    ▼
┌─────────────────────────────────────────────────────────┐
│                     Services                            │
│            (비즈니스 로직 처리)                           │
└─────────────────────────────────────────────────────────┘
    │
    ▼
┌─────────────────────────────────────────────────────────┐
│                       Core                              │
│     (LLM 분석, RAG, VectorDB, 챗봇 엔진)                  │
└─────────────────────────────────────────────────────────┘
    │
    ▼
┌─────────────────────────────────────────────────────────┐
│                      Utils                              │
│        (전처리, 플랫폼 감지, 임베딩 변환)                   │
└─────────────────────────────────────────────────────────┘
```

## 폴더 구조

```
app/
├── api/                        # API 라우터
│   ├── endpoints/              # 엔드포인트 정의
│   └── README.md
│
├── services/                   # 비즈니스 로직
│   └── README.md
│
├── core/                       # 핵심 로직 (LLM, RAG, VectorDB)
│   ├── chatbot_engine/         # 챗봇 엔진
│   └── README.md
│
├── utils/                      # 유틸리티
│   └── README.md
│
├── config.py                   # 설정
└── main.py                     # FastAPI 앱 정의
```

## 각 폴더 역할

| 폴더             | 역할             | 주요 파일                               |
| ---------------- | ---------------- | --------------------------------------- |
| `api/endpoints/` | HTTP 요청 처리   | file_upload.py, chat.py 등              |
| `services/`      | 비즈니스 로직    | file_upload_service.py 등               |
| `core/`          | AI/LLM 핵심 로직 | llm_analysis.py, vector_store.py 등     |
| `utils/`         | 공통 유틸리티    | preprocess.py, platform_detection.py 등 |
